window.heydays={utils:{pickSource:function(e,t){for(var n in e)if(n>t*window.devicePixelRatio)return e[n];return e[Object.keys(e)[Object.keys(e).length-1]]},throttle:function(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout(function(){n=!1},t))}},raf:function(e){var t=!1;return function(){t||(requestAnimationFrame(function(){e.call(),t=!1}),t=!0)}},loadBodymovin:function(e){window.bodymovin?e(window.bodymovin):jQuery.getScript("https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin.min.js",function(t,n,i,o){e(window.bodymovin)})},debounce:function(e,t,n){var i;return function(){var o=this,r=arguments;i?clearTimeout(i):n&&e.apply(o,r),i=setTimeout(function(){n||e.apply(o,r),i=null},t||100)}},cookie:{set:function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},get:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}}}},window.addEventListener("touchstart",function e(){document.body.classList.add("user-is-touching"),window.USER_IS_TOUCHING=!0,window.removeEventListener("touchstart",e,!1)},!1),$("video").each(function(){var e=$(this),t=e.data("sources"),n=window.heydays.utils.pickSource(t,e.parent().outerWidth());if(n){var i='<source data-size="'+n.size+'" src="'+n.src+'" type="'+n.type+'">';e.html(i)}}),function(e,t,n){"use strict";var i,o,r,a,s,l,u,c,d,f,p,m,h,g,v,y=e.lazySizes&&lazySizes.cfg||e.lazySizesConfig,b=t.createElement("img"),z="sizes"in b&&"srcset"in b,C=/\s+\d+h/g,w=Array.prototype.forEach,_=function(e){var t=e.getAttribute(lazySizesConfig.srcsetAttr);t&&e.setAttribute(lazySizesConfig.srcsetAttr,t.replace(C,""))};if(y||(y={},e.lazySizesConfig=y),y.supportsType||(y.supportsType=function(e){return!e}),!(e.picturefill||e.respimage||y.pf)){if(e.HTMLPictureElement&&z)return t.msElementsFromPoint&&(o=navigator.userAgent.match(/Edge\/(\d+)/))&&o[1]<15&&t.addEventListener("lazybeforeunveil",function(e){var t=e.target.parentNode;t&&w.call(t.getElementsByTagName("source"),_),_(e.target)}),void(y.pf=function(){});y.pf=function(t){var n,o;if(!e.picturefill&&!e.respimage)for(n=0,o=t.elements.length;n<o;n++)i(t.elements[n])},c=function(e,t){return e.w-t.w},d=/^\s*\d+px\s*$/,s=/(([^,\s].[^\s]+)\s+(\d+)w)/g,l=/\s/,u=function(e,t,n,i){a.push({c:t,u:n,w:1*i})},p=function(){var e,n,o;p.init||(p.init=!0,addEventListener("resize",(n=t.getElementsByClassName("lazymatchmedia"),o=function(){var e,t;for(e=0,t=n.length;e<t;e++)i(n[e])},function(){clearTimeout(e),e=setTimeout(o,66)})))},m=function(t,n){var i,o=t.getAttribute("srcset")||t.getAttribute(y.srcsetAttr);!o&&n&&(o=t._lazypolyfill?t._lazypolyfill._set:t.getAttribute("src")||t.getAttribute(y.srcAttr)),t._lazypolyfill&&t._lazypolyfill._set==o||(i=f(o||""),n&&t.parentNode&&(i.isPicture="PICTURE"==t.parentNode.nodeName.toUpperCase(),i.isPicture&&(e.matchMedia||e.Modernizr&&Modernizr.mq)&&(lazySizes.aC(t,"lazymatchmedia"),p())),i._set=o,Object.defineProperty(t,"_lazypolyfill",{value:i,writable:!0}))},h=function(t){return e.matchMedia?(h=function(e){return!e||(matchMedia(e)||{}).matches})(t):e.Modernizr&&Modernizr.mq?!t||Modernizr.mq(t):!t},g=function(t){var n,i,o,r,a,s,l,u,f,p;if(m(r=t,!0),(a=r._lazypolyfill).isPicture)for(i=0,n=t.parentNode.getElementsByTagName("source"),o=n.length;i<o;i++)if(y.supportsType(n[i].getAttribute("type"),t)&&h(n[i].getAttribute("media"))){r=n[i],m(r),a=r._lazypolyfill;break}return a.length>1?(l=r.getAttribute("sizes")||"",l=d.test(l)&&parseInt(l,10)||lazySizes.gW(t,t.parentNode),a.d=(u=t,f=e.devicePixelRatio||1,p=lazySizes.getX&&lazySizes.getX(u),Math.min(p||f,2.5,f)),(!a.w||a.w<l)&&(a.w=l,s=function(e){for(var t,n,i=e.length,o=e[i-1],r=0;r<i;r++)if(o=e[r],o.d=o.w/e.w,o.d>=e.d){!o.cached&&(t=e[r-1])&&t.d>e.d-.13*Math.pow(e.d,2.2)&&(n=Math.pow(t.d-.6,1.6),t.cached&&(t.d+=.15*n),t.d+(o.d-e.d)*n>e.d&&(o=t));break}return o}(a.sort(c)))):s=a[0],s},(v=function(e){if(!z||!e.parentNode||"PICTURE"==e.parentNode.nodeName.toUpperCase()){var t=g(e);t&&t.u&&e._lazypolyfill.cur!=t.u&&(e._lazypolyfill.cur=t.u,t.cached=!0,e.setAttribute(y.srcAttr,t.u),e.setAttribute("src",t.u))}}).parse=f=function(e){return a=[],(e=e.trim()).replace(C,"").replace(s,u),a.length||!e||l.test(e)||a.push({c:e,u:e,w:99}),a},i=v,y.loadedClass&&y.loadingClass&&(r=[],['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(e){r.push(e+y.loadedClass),r.push(e+y.loadingClass)}),y.pf({elements:t.querySelectorAll(r.join(", "))}))}}(window,document),function(e){"use strict";var t,n=e.createElement("img");!("srcset"in n)||"sizes"in n||window.HTMLPictureElement||(t=/^picture$/i,e.addEventListener("lazybeforeunveil",function(n){var i,o,r,a,s,l,u;!n.defaultPrevented&&!lazySizesConfig.noIOSFix&&(i=n.target)&&(r=i.getAttribute(lazySizesConfig.srcsetAttr))&&(o=i.parentNode)&&((s=t.test(o.nodeName||""))||(a=i.getAttribute("sizes")||i.getAttribute(lazySizesConfig.sizesAttr)))&&(l=s?o:e.createElement("picture"),i._lazyImgSrc||Object.defineProperty(i,"_lazyImgSrc",{value:e.createElement("source"),writable:!0}),u=i._lazyImgSrc,a&&u.setAttribute("sizes",a),u.setAttribute(lazySizesConfig.srcsetAttr,r),i.setAttribute("data-pfsrcset",r),i.removeAttribute(lazySizesConfig.srcsetAttr),s||(o.insertBefore(l,i),l.appendChild(i)),l.insertBefore(u,i))}))}(document),function(){"use strict";if(window.addEventListener){var e,t=/\s+/g,n=/\s*\|\s+|\s+\|\s*/g,i=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/,o={contain:1,cover:1},r=window.requestAnimationFrame||setTimeout,a=function(e){var t=e._bgsetReadCache&&"width"in e._bgsetReadCache?e._bgsetReadCache.width:lazySizes.gW(e,e.parentNode);return(!e._lazysizesWidth||t>e._lazysizesWidth)&&(e._lazysizesWidth=t),e._lazysizesWidth},s=function(e){var t;return e._bgsetReadCache?t=e._bgsetReadCache.bgSize:(t=(getComputedStyle(e)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!o[t]&&o[e.style.backgroundSize]&&(t=e.style.backgroundSize)),t},l=function(e){if(e.target._lazybgset){var t=e.target,n=t._lazybgset,i=t.currentSrc||t.src;i&&(n.style.backgroundImage="url("+i+")"),t._lazybgsetLoading&&(lazySizes.fire(n,"_lazyloaded",{},!1,!0),delete t._lazybgsetLoading)}};window.lazySizesConfig=window.lazySizesConfig||{},e=window.lazySizesConfig.rC,window.lazySizesConfig.rC=function(t,n){var i;return e&&(n=e.apply(this,arguments)||n),t.getAttribute("data-bgset")&&(i=s(t),(o[i]||t.getAttribute(lazySizesConfig.sizesAttr))&&(n=a(t)),t._bgsetReadCache={bgSize:i,width:n}),t._bgsetReadCache&&t._bgsetReadCache.width||n},addEventListener("lazybeforeunveil",function(e){var a,u,c,d,f,p,m,h,g,v,y;!e.defaultPrevented&&(a=e.target.getAttribute("data-bgset"))&&(c=e.target,(u=document.createElement("img")).alt="",u._lazybgsetLoading=!0,e.detail.firesLoad=!0,d=a,f=c,p=u,m=document.createElement("picture"),h=f.getAttribute(lazySizesConfig.sizesAttr),g=f.getAttribute("data-ratio"),v=f.getAttribute("data-optimumx"),y=s(f),!o[y]||"auto"!=h&&h||(p.setAttribute("data-parent-fit",y),h="auto"),f._lazybgset&&f._lazybgset.parentNode==f&&f.removeChild(f._lazybgset),Object.defineProperty(p,"_lazybgset",{value:f,writable:!0}),Object.defineProperty(f,"_lazybgset",{value:m,writable:!0}),d=d.replace(t," ").split(n),m.style.display="none",p.className=lazySizesConfig.lazyClass,1!=d.length||h||(h="auto"),d.forEach(function(e){var t=document.createElement("source");h&&"auto"!=h&&t.setAttribute("sizes",h),e.match(i)&&(t.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1),RegExp.$2&&t.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)),m.appendChild(t)}),h&&(p.setAttribute(lazySizesConfig.sizesAttr,h),f.removeAttribute(lazySizesConfig.sizesAttr),f.removeAttribute("sizes")),v&&p.setAttribute("data-optimumx",v),g&&p.setAttribute("data-ratio",g),m.appendChild(p),f.appendChild(m),u._bgsetReadCache=c._bgsetReadCache,setTimeout(function(){lazySizes.loader.unveil(u),r(function(){lazySizes.fire(u,"_lazyloaded",{},!0,!0),u.complete&&l({target:u}),c._bgsetReadCache&&delete c._bgsetReadCache,u._bgsetReadCache&&delete u._bgsetReadCache})}))}),document.addEventListener("load",l,!0),document.documentElement.addEventListener("lazybeforesizes",function(e){!e.defaultPrevented&&e.target._lazybgset&&(e.detail.width=a(e.target._lazybgset))})}}(),function(e,t){"use strict";function n(e,n){if(!o[e]){var i=t.createElement(n?"link":"script"),r=t.getElementsByTagName("script")[0];n?(i.rel="stylesheet",i.href=e):i.src=e,o[e]=!0,o[i.src||i.href]=!0,r.parentNode.insertBefore(i,r)}}var i,o={};t.addEventListener&&(i=function(e,n){var i=t.createElement("img");i.onload=function(){i.onload=null,i.onerror=null,i=null,n()},i.onerror=i.onload,i.src=e,i&&i.complete&&i.onload&&i.onload()},addEventListener("lazybeforeunveil",function(t){var o,r,a;t.defaultPrevented||("none"==t.target.preload&&(t.target.preload="auto"),(o=t.target.getAttribute("data-link"))&&n(o,!0),(o=t.target.getAttribute("data-script"))&&n(o),(o=t.target.getAttribute("data-require"))&&e.require&&require([o]),(r=t.target.getAttribute("data-bg"))&&(t.detail.firesLoad=!0,i(r,function(){t.target.style.backgroundImage="url("+r+")",t.detail.firesLoad=!1,lazySizes.fire(t.target,"_lazyloaded",{},!0,!0)})),(a=t.target.getAttribute("data-poster"))&&(t.detail.firesLoad=!0,i(a,function(){t.target.poster=a,t.detail.firesLoad=!1,lazySizes.fire(t.target,"_lazyloaded",{},!0,!0)})))},!1))}(window,document),function(e,t){var n=function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,o=e.HTMLPictureElement&&"sizes"in t.createElement("img"),r="addEventListener",a="getAttribute",s=e[r],l=e.setTimeout,u=e.requestAnimationFrame||l,c=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],f={},p=Array.prototype.forEach,m=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e[a]("class")||"")&&f[t]},h=function(e,t){m(e,t)||e.setAttribute("class",(e[a]("class")||"").trim()+" "+t)},g=function(e,t){var n;(n=m(e,t))&&e.setAttribute("class",(e[a]("class")||"").replace(n," "))},v=function(e,t,n){var i=n?r:"removeEventListener";n&&v(e,t),d.forEach(function(n){e[i](n,t)})},y=function(e,n,i,o,r){var a=t.createEvent("CustomEvent");return a.initCustomEvent(n,!o,!r,i||{}),e.dispatchEvent(a),a},b=function(t,i){var r;!o&&(r=e.picturefill||n.pf)?r({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},z=function(e,t){return(getComputedStyle(e,null)||{})[t]},C=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},w=function(t){var n,i=0,o=e.Date,r=function(){n=!1,i=o.now(),t()},a=function(){l(r)},s=function(){u(a)};return function(){if(!n){var e=125-(o.now()-i);n=!0,e<6&&(e=6),l(s,e)}}},_=(Q=/^img$/i,G=/^iframe$/i,X="onscroll"in e&&!/glebot/.test(navigator.userAgent),Y=0,J=0,K=0,Z=function(e){J--,e&&e.target&&v(e.target,Z),(!e||J<0||!e.target)&&(J=0)},ee=function(e,n){var o,r=e,a="hidden"==z(t.body,"visibility")||"hidden"!=z(e,"visibility");for(R-=n,H+=n,O-=n,B+=n;a&&(r=r.offsetParent)&&r!=t.body&&r!=i;)(a=(z(r,"opacity")||1)>0)&&"visible"!=z(r,"overflow")&&(o=r.getBoundingClientRect(),a=B>o.left&&O<o.right&&H>o.top-1&&R<o.bottom+1);return a},ne=w(te=function(){var e,t,o,r,s,l,u,c,d;if((N=n.loadMode)&&J<8&&(e=T.length)){t=0,K++,null==D&&("expand"in n||(n.expand=i.clientHeight>600?i.clientWidth>600?550:410:359),W=n.expand,D=W*n.expFactor),Y<D&&J<1&&K>3&&N>2?(Y=D,K=0):Y=N>1&&K>2&&J<6?W:0;for(;t<e;t++)if(T[t]&&!T[t]._lazyRace)if(X)if((c=T[t][a]("data-expand"))&&(l=1*c)||(l=Y),d!==l&&(k=innerWidth+l*F,I=innerHeight+l,u=-1*l,d=l),o=T[t].getBoundingClientRect(),(H=o.bottom)>=u&&(R=o.top)<=I&&(B=o.right)>=u*F&&(O=o.left)<=k&&(H||B||O||R)&&(L&&J<3&&!c&&(N<3||K<4)||ee(T[t],l))){if(se(T[t]),s=!0,J>9)break}else!s&&L&&!r&&J<4&&K<4&&N>2&&(j[0]||n.preloadAfterLoad)&&(j[0]||!c&&(H||B||O||R||"auto"!=T[t][a](n.sizesAttr)))&&(r=j[0]||T[t]);else se(T[t]);r&&!s&&se(r)}}),ie=function(e){h(e.target,n.loadedClass),g(e.target,n.loadingClass),v(e.target,oe)},oe=function(e){e={target:e.target},u(function(){ie(e)})},re=function(e){var t,i,o=e[a](n.srcsetAttr);(t=n.customMedia[e[a]("data-media")||e[a]("media")])&&e.setAttribute("media",t),o&&e.setAttribute("srcset",o),t&&((i=e.parentNode).insertBefore(e.cloneNode(),e),i.removeChild(e))},q=[],ae={add:function(e){q.push(e),V||(V=!0,u(U))},run:U=function(){for(;q.length;)q.shift()();V=!1}},le=function(){if(!L){if(Date.now()-P<999)return void l(le,999);var e,i=function(){n.loadMode=3,ne()};L=!0,n.loadMode=3,t.hidden?(te(),ae.run()):ne(),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),clearTimeout(e),e=l(i,99)},!0)}},{_:function(){P=Date.now(),T=t.getElementsByClassName(n.lazyClass),j=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),F=n.hFac,s("scroll",ne,!0),s("resize",ne,!0),e.MutationObserver?new MutationObserver(ne).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[r]("DOMNodeInserted",ne,!0),i[r]("DOMAttrModified",ne,!0),setInterval(ne,999)),s("hashchange",ne,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[r](e,ne,!0)}),/d$|^c/.test(t.readyState)?le():(s("load",le),t[r]("DOMContentLoaded",ne),l(le,2e4)),ne(T.length>0)},checkElems:ne,unveil:se=function(e){var t,i,o,r,s,d,f,z=Q.test(e.nodeName),C=z&&(e[a](n.sizesAttr)||e[a]("sizes")),w="auto"==C;(!w&&L||!z||!e.src&&!e.srcset||e.complete||m(e,n.errorClass))&&(w&&(f=e.offsetWidth),e._lazyRace=!0,J++,n.rC&&(f=n.rC(e,f)||f),ae.add(function(){(s=y(e,"lazybeforeunveil")).defaultPrevented||(C&&(w?($.updateElem(e,!0,f),h(e,n.autosizesClass)):e.setAttribute("sizes",C)),i=e[a](n.srcsetAttr),t=e[a](n.srcAttr),z&&(o=e.parentNode,r=o&&c.test(o.nodeName||"")),d=s.detail.firesLoad||"src"in e&&(i||t||r),s={target:e},d&&(v(e,Z,!0),clearTimeout(M),M=l(Z,2500),h(e,n.loadingClass),v(e,oe,!0)),r&&p.call(o.getElementsByTagName("source"),re),i?e.setAttribute("srcset",i):t&&!r&&(G.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}}(e,t):e.src=t),(i||r)&&b(e,{src:t})),u(function(){e._lazyRace&&delete e._lazyRace,g(e,n.lazyClass),d&&!e.complete||(d?Z(s):J--,ie(s))})}))}}),$=(x=function(e,t,n){var i,o,r,a,s=e.parentNode;if(s&&(n=C(e,s,n),!(a=y(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented&&(n=a.detail.width)&&n!==e._lazysizesWidth)){if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),c.test(s.nodeName||""))for(i=s.getElementsByTagName("source"),o=0,r=i.length;o<r;o++)i[o].setAttribute("sizes",n);a.detail.dataAttr||b(e,a.detail)}},{_:function(){A=t.getElementsByClassName(n.autosizesClass),s("resize",S)},checkElems:S=w(function(){var e,t=A.length;if(t)for(e=0;e<t;e++)x(A[e])}),updateElem:x}),E=function(){E.i||(E.i=!0,$._(),_._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,l(function(){n.init&&E()})}(),{cfg:n,autoSizer:$,loader:_,init:E,uP:b,aC:h,rC:g,hC:m,fire:y,gW:C}}var A,x,S;var T,j,L,M,N,P,k,I,R,O,B,H,W,D,F,V,q,U,Q,G,X,Y,J,K,Z,ee,te,ne,ie,oe,re,ae,se,le}(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.inView=t():e.inView=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i,o=n(2),r=(i=o)&&i.__esModule?i:{default:i};e.exports=r.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(9)),r=i(n(3)),a=n(4);t.default=function(){if("undefined"!=typeof window){var e={history:[]},t={offset:{},threshold:0,test:a.inViewport},n=(0,o.default)(function(){e.history.forEach(function(t){e[t].check()})},100);["scroll","resize","load"].forEach(function(e){return addEventListener(e,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var i=function(n){if("string"==typeof n){var i=[].slice.call(document.querySelectorAll(n));return e.history.indexOf(n)>-1?e[n].elements=i:(e[n]=(0,r.default)(i,t),e.history.push(n)),e[n]}};return i.offset=function(e){if(void 0===e)return t.offset;var n=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(n(e)?function(n){return t.offset[n]=e}:function(i){return n(e[i])?t.offset[i]=e[i]:null}),t.offset},i.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?t.threshold=e:t.threshold},i.test=function(e){return"function"==typeof e?t.test=e:t.test},i.is=function(e){return t.test(e,t)},i.offset(0),i}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=n,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(e,[{key:"check",value:function(){var e=this;return this.elements.forEach(function(t){var n=e.options.test(t,e.options),i=e.current.indexOf(t),o=i>-1,r=!n&&o;n&&!o&&(e.current.push(t),e.emit("enter",t)),r&&(e.current.splice(i,1),e.emit("exit",t))}),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var n=this.handlers[e].length;--n>-1;)this.handlers[e][n](t);return this}}]),e}();t.default=function(e,t){return new i(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(e,t){var n=e.getBoundingClientRect(),i=n.top,o=n.right,r=n.bottom,a=n.left,s=n.width,l=n.height,u=r,c=window.innerWidth-a,d=window.innerHeight-i,f=o,p=t.threshold*s,m=t.threshold*l;return u>t.offset.top+m&&c>t.offset.right+p&&d>t.offset.bottom+m&&f>t.offset.left+p}},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var i=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();e.exports=r},function(e,t,n){var i=n(1),o=n(8),r=n(10),a="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){function u(t){var n=m,i=h;return m=h=void 0,z=t,v=e.apply(i,n)}function c(e){var n=e-b;return void 0===b||n>=t||n<0||w&&e-z>=g}function d(){var e,n,i=o();return c(i)?f(i):void(y=setTimeout(d,(e=i,n=t-(e-b),w?l(n,g-(e-z)):n)))}function f(e){return y=void 0,_&&m?u(e):(m=h=void 0,v)}function p(){var e,n=o(),i=c(n);if(m=arguments,h=this,b=n,i){if(void 0===y)return e=b,z=e,y=setTimeout(d,t),C?u(e):v;if(w)return y=setTimeout(d,t),u(b)}return void 0===y&&(y=setTimeout(d,t)),v}var m,h,g,v,y,b,z=0,C=!1,w=!1,_=!0;if("function"!=typeof e)throw new TypeError(a);return t=r(t)||0,i(n)&&(C=!!n.leading,g=(w="maxWait"in n)?s(r(n.maxWait)||0,t):g,_="trailing"in n?!!n.trailing:_),p.cancel=function(){void 0!==y&&clearTimeout(y),z=0,m=b=h=y=void 0},p.flush=function(){return void 0===y?v:f(o())},p}},function(e,t,n){var i=n(6);e.exports=function(){return i.Date.now()}},function(e,t,n){var i=n(7),o=n(1),r="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t){e.exports=function(e){return e}}])}),function(){var e=$("body"),t={init:function(){sessionStorage.getItem("intro_has_played")||(e.addClass("init-intro"),setTimeout(this.playIntro,16),sessionStorage.setItem("intro_has_played",!0))},playIntro:function(){e.addClass("play-intro"),setTimeout(function(){$(".intro-logo").addClass("active"),$(".intro-title").addClass("active")},500),setTimeout(function(){e.addClass("intro-end")},750)}};$(".intro-logo").length&&t.init()}(),function(e,t,n,i){e.fn.togglemenu=function(n,i){var o=e("body"),r=e(t);return this.each(function(){function a(){c&&clearTimeout(c),d&&clearTimeout(d)}function s(){}function l(){a(),f.removeClass(v),p.removeClass(v),m.removeClass(v),o.removeClass("has-menu"),r.scrollTop(y),c=setTimeout(function(){m.css({display:""})},g),h=!1}function u(){a(),y=r.scrollTop(),f.addClass(v),m.css({display:"block"}),o.addClass("has-menu"),e(t.body).trigger("menu_before_open"),c=setTimeout(function(){p.addClass(v),m.addClass(v)},16),d=setTimeout(s,g),h=!0}var c,d,f=e(this),p=e(n),m=e(i),h=!1,g=300,v="is-active",y=0;f.on("click",function(e){h?l():u(),e.preventDefault()}),f.on("close",l)})},e(".toggler").togglemenu("",".main-menu-wrap"),e(t.body).on("content_added",function(){e(".toggler").trigger("close")})}(jQuery,document,window),function(e,t,n,i){({init:function(){this.setupProjects(),this.setupFrames(),this.setupVideos()},setupVideos:function(){inView(".inview-play").on("enter",function(e){"VIDEO"===e.nodeName&&e.play()}).on("exit",function(e){"VIDEO"===e.nodeName&&e.pause()})},setupProjects:function(){inView(".project").on("enter",function(t){e(t).addClass("in-view")}).on("exit",function(t){e(t).removeClass("in-view")})},setupFrames:function(){}}).init()}(jQuery,document,window),function(){var e={init:function(){var e=this;e.$doc=$(document),e.$crumbContainer=$(".breadcrumb"),e.setCrumbs(),e.$crumbs.length&&($(window).on("scroll",window.heydays.utils.throttle(e.updateCrumb,50)),e.updateCrumb()),$(document).on("ajax_loaded",e.setCrumbs)},setFooterColor:function(){var t=e,n=$("#footer"),i=t.$crumbs.last(),o=!1;if(i.length){var r=i.offset().top,a=i.outerHeight()+r,s=n.offset().top;s<a&&s>r&&i.hasClass("text-bright")&&(o=!0)}n.toggleClass("text-bright",o)},setCrumbs:function(){var t=e;t.$crumbs=$("[data-breadcrumb], .pbuilder .section-wrap, .js-color-change"),t.updateCrumb()},extractProps:function(e){var t={};return e.split("|").forEach(function(e){var n=e.split(":");if(Array.isArray(n)&&2===n.length){var i=n[0],o=n[1];t[i]=o}}),$.isEmptyObject(t)&&(t.text=e),t},updateCrumb:function(){var t=e;if(t.setFooterColor(),!(t.$doc.scrollTop()<0)){var n=t.$crumbContainer[0].getBoundingClientRect().bottom,i=!1;t.$crumbs.each(function(){var e=$(this),o=this.getBoundingClientRect();if(o.top<n&&o.bottom>n){if(t.current!==this){var r={};void 0!==e.data("breadcrumb")&&(r=t.extractProps(e.data("breadcrumb")),t.$crumbContainer.html(r.text).addClass("has-crumb")),r.classels="body",e.hasClass("text-bright")?r.class="nav-text-bright":r.class="",t.prevClass&&t.prevClassels&&$(t.prevClassels).removeClass(t.prevClass),r.class&&r.classels&&(t.prevClassels=r.classels,t.prevClass=r.class,$(r.classels).addClass(r.class)),t.$crumbs.find(".current-crumb").removeClass("current-crumb"),e.addClass("current-crumb"),$(".site-title").toggleClass("hide-name",e.hasClass("hide-title")),$("body").toggleClass("hide-nav-overlay",e.hasClass("hide-nav-overlay")).toggleClass("show-nav-overlay",!e.hasClass("hide-nav-overlay")),t.current=this}i=!0}}),i||void 0===t.current||(t.current=void 0,t.$crumbs.find(".current-crumb").removeClass("current-crumb"),t.$crumbContainer.html("").removeClass("has-crumb"),t.prevClass&&t.prevClassels&&$(t.prevClassels).removeClass(t.prevClass),$(".site-title").removeClass("hide-name"),$("body").removeClass("hide-nav-overlay show-nav-overlay")),$(document.body).trigger("crumbChanged")}}};e.init()}(),function(e,t,n,i){var o={init:function(){this.$items=e(".bodymovin"),this.$items.length&&n.heydays.utils.loadBodymovin(this.scriptLoaded)},scriptLoaded:function(t){o.$items.each(function(){var n=e(this),i=t.loadAnimation({container:this,renderer:"svg",prerender:!0,loop:!0,autoplay:!1,path:n.data("path")});n.data("player",i)}),inView(".bodymovin").on("enter",function(t){var n=e(t).data("player");n&&n.play()}).on("exit",function(t){var n=e(t).data("player");n&&n.pause()})}};o.init()}(jQuery,document,window),function(e,t,n,i){var o={init:function(e){var t=sessionStorage.getItem("project_list");t&&t.length||(t=n.data.projects,sessionStorage.setItem("project_list",t)),"string"==typeof t&&(t=(t=t.split(",")).map(function(e){return parseInt(e,10)})),this.project_list=t,this.prepareNextProject(e)},prepareNextProject:function(e){var t=o;e=parseInt(e),t.project_list=this.removeElement(t.project_list,e),sessionStorage.setItem("project_list",t.project_list);var i=t.project_list.shift();i?t.loadNextProject(i):t.init(n.data.project)},removeElement:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e},loadNextProject:function(i){var r=o;e.ajax({type:"GET",url:n.data.ajaxurl,data:{action:"get_next_project",post_id:i},success:function(n){n.success?e(".js-next-project").html(n.data):n.data.false_id&&r.prepareNextProject(n.data.false_id),e(t).trigger("ajax_loaded")},error:function(e,t,n){console.log(e,t,n)}})}};n.data.project&&o.init(n.data.project)}(jQuery,document,window),function(){var e={init:function(){var e=this,t=$(".primary-menu"),n=t.find("a"),i=$(".bg-image-panel");e.duration=500,e.default_image=i.data("default"),e.$panels=i,e.$loaders=n,t.on("mouseenter",function(){t.addClass("is-hover")}).on("mouseleave",function(){t.removeClass("is-hover"),e.setDefaultImage()}),$(document.body).on("menu_before_open",function(){e.setDefaultImage()})},setImage:function(e){var t=this;if(t.prev_image!==e){t.prev_image=e;var n=$('<div class="panel panel-top"></div>');t.$prev_panel&&t.$prev_panel.removeClass("panel-top"),e&&n.css({"background-image":"url("+e+")"}),n.appendTo(t.$panels),setTimeout(function(){n.addClass("active")},16),setTimeout(function(){t.$prev_panel&&t.$prev_panel.remove(),t.$prev_panel=n},t.duration+16)}},setDefaultImage:function(){var e=window.heydays.utils.pickSource(this.default_image,$(window).width());this.setImage(e)},menuItemHover:function(){var t=e;if(window.USER_IS_TOUCHING)t.$loaders.off("mouseenter",t.menuItemHover).off("mouseleave",t.menuItemLeave);else{var n=$(this).addClass("active").data("sources");if(n){var i=window.heydays.utils.pickSource(n,$(window).width());t.setImage(i),console.log(n,i)}}},menuItemLeave:function(){$(this).removeClass("active")}};e.init()}(),function(){var e={init:function(){this.$body=$("body"),this.$document=$(document),this.$window=$(window),this.threshold=90,this.deltamax=70,this.navHeight=78,this.lastScrollTop=0,this.$window.on("resize",window.heydays.utils.throttle(this.updateHeaderPosition,50)).on("scroll",window.heydays.utils.throttle(this.updateHeaderPosition,50))},isOffset:function(e){var t=$(".pbuilder"),n=this.navHeight;return t.length&&((t=t.first()).offset().top>this.navHeight&&(n=t.offset().top-this.navHeight)),e>n},isRockBottom:function(e){return e>this.$document.height()-this.$window.height()-this.navHeight},shouldHideMenu:function(e){return!this.isBottom&&e>this.lastScrollTop&&this.isOffset(e)},updateHeaderPosition:function(){var t=e,n=t.$document.scrollTop(),i=t.isOffset(n),o=Math.abs(t.lastScrollTop-n);t.isBottom=t.isRockBottom(n),t.navHeight=$(".site-title").outerHeight(),t.isBottom?t.$body.removeClass("menu-is-offset"):t.$body.toggleClass("menu-is-offset",i),t.$body.toggleClass("is-bottom",t.isBottom),t.$body.hasClass("has-menu")||o<=t.deltamax||(t.shouldHideMenu(n)?t.$body.addClass("menu-is-hidden"):t.$body.removeClass("menu-is-hidden"),t.lastScrollTop=n)}};e.init()}(),$.fn.videoControls=function(){return this.each(function(){function e(){l.addClass("controls-hidden")}function t(){o&&clearTimeout(o),l.removeClass("controls-hidden"),o=setTimeout(e,1500)}function n(){a.play()}function i(){a.pause()}var o,r=$(this).wrap('<div class="custom-controls"/>'),a=this,s=!1,l=r.parent(),u=!1,c=!0,d=$('<input type="range" class="seek-bar" value="0">'),f=d[0],p=$('<button class="btn-play">Play</button>'),m=$('<button class="btn-pause">Pause</button>').hide();r.after(d).after(p).after(m),r.prop("controls",""),a.addEventListener("timeupdate",function(){var e=100/a.duration*a.currentTime;f.value=e}),a.addEventListener("ended",function(){a.currentTime=0,i()}),a.addEventListener("pause",function(){u||(c=!0,s=!1,p.show(),m.hide(),l.removeClass("playing").addClass("paused"),l.off("mousemove",t))}),a.addEventListener("play",function(){l.addClass("init"),u||(c=!1,s=!0,p.hide(),m.show(),l.addClass("playing").removeClass("paused"),l.on("mousemove",t))}),f.addEventListener("change",function(){var e=a.duration*(f.value/100);a.currentTime=e}),f.addEventListener("mousedown",function(){u=!0,a.pause()}),f.addEventListener("mouseup",function(){c||a.play(),u=!1}),r.on("click",function(){s?i():n()}),p.on("click",n),m.on("click",i)})},$("video[controls]").videoControls(),function(e,t,n,i){function o(t){if(c.length){if(e(n).width()<1024)return void(t&&c.css("transform",""));var i=d.scrollTop();c.each(function(){var t=e(this);t.css("transform","translateY("+(i-t.offset().top)/20+"px)")})}}function r(){u.each(function(){var t=e(this),n=t.find(".inner"),i=n.position().left+n.outerWidth();t.toggleClass("hide-overflow",i>t.outerWidth())})}function a(){r(),l.each(function(){var t=e(this),n=t.find(t.data("minheight")),i=parseInt(t.css("paddingTop"),10),o=n.outerHeight()+2*i;t.css({"min-height":o})}),o(!0)}var s=n.location.hash;s&&"cases"===(s=s.substring(1))&&(function(){var n=e(".project-list");if(n.length){var i=Math.round(n.offset().top);e(t).scrollTop(i)}}(),history.replaceState("",t.title,n.location.pathname+n.location.search)),e(t).on("click",".js-projects",function(i){var o=e(".project-list");if(o.length){e(".toggler").trigger("close");var r=Math.round(o.offset().top);e(t).scrollTop(r)}else{var a=e(this).find("a").attr("href");n.location.href=a+"#cases"}i.preventDefault()});var l=e("[data-minheight]"),u=e(".site-title"),c=e(".parallax"),d=e(t);e(t.body).on("crumbChanged",r),e(n).on("resize",n.heydays.utils.throttle(a,50)).on("scroll",n.heydays.utils.raf(function(){o()})),a()}(jQuery,document,window);
